<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mercado de Artesan√≠as de Somoto</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="13.png">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
body{background:#f3efe8;overflow-x:hidden}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#355e3b,#6b8e23);
  color:#fff;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:999;
  animation:fadeOut 0.8s ease forwards;
  animation-delay:2s;
  text-align:center;
}
#logoSplash{
  width:120px;
  height:120px;
  margin-bottom:20px;
  border-radius:24px;
  border:3px solid #fff;
  object-fit:cover;
}
#splash h1{
  font-weight:600;
  font-size:24px;
  line-height:1.2;
}
@keyframes fadeOut{to{opacity:0;visibility:hidden}}

/* LOGIN */
#loginBox{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#355e3b,#6b8e23);
}
.login{
  background:#fff;
  padding:30px;
  width:90%;
  max-width:350px;
  border-radius:16px;
  text-align:center;
  animation:fadeIn .6s ease;
}
@keyframes fadeIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
.login input, .login button{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border-radius:8px;
}
.login input{border:1px solid #ccc}
.login button{
  background:#355e3b;
  color:#fff;
  border:none;
  font-weight:600;
  cursor:pointer;
}

/* TOAST */
#toast{
  position:fixed;
  bottom:90px;
  left:50%;
  transform:translateX(-50%);
  background:#355e3b;
  color:#fff;
  padding:12px 18px;
  border-radius:20px;
  display:none;
  animation:slideUp .4s ease;
}
@keyframes slideUp{from{opacity:0;transform:translate(-50%,20px)}to{opacity:1;transform:translate(-50%,0)}}

/* APP */
#app{display:none;padding-bottom:80px}
header{
  background:#355e3b;
  color:#fff;
  padding:14px;
  text-align:center;
  font-weight:600;
}
main{padding:16px}
.section{
  background:#fff;
  padding:16px;
  border-radius:16px;
  margin-bottom:16px;
  animation:fadeIn .5s ease;
}

/* GALER√çA DEL MERCADO */
.mercado{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:16px;
}
.mercado img{
  width:100%;
  border-radius:12px;
  object-fit:cover;
  cursor:pointer;
  transition:transform .3s;
}
.mercado img:hover{transform:scale(1.05);}

/* MODAL */
#modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  justify-content:center;
  align-items:center;
  z-index:1000;
}
#modalContent{
  background:#fff;
  padding:16px;
  border-radius:16px;
  max-width:90%;
  max-height:90%;
  overflow:auto;
  text-align:center;
  animation:fadeIn .3s ease;
}
#modalContent img{
  width:100%;
  max-height:300px;
  object-fit:cover;
  border-radius:12px;
  margin-bottom:12px;
}
#modalContent button{
  padding:8px 12px;
  background:#355e3b;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

/* NAV */
nav{
  position:fixed;
  bottom:0;
  width:100%;
  background:#fff;
  display:flex;
  border-top:1px solid #ccc;
}
nav a{
  flex:1;
  padding:10px;
  text-align:center;
  text-decoration:none;
  color:#333;
  font-size:12px;
}
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
  <img src="13.png" alt="Logo" id="logoSplash">
  <h1>Mercado Artesan√≠as Somoto</h1>
</div>

<!-- LOGIN -->
<div id="loginBox">
  <div class="login">
    <h2>Bienvenido</h2>
    <input id="usuario" placeholder="Nombre de usuario">
    <input type="password" placeholder="Contrase√±a">
    <button id="btnLogin">Iniciar sesi√≥n</button>
    <button id="btnGuest" style="margin-top:8px;background:#6b8e23;">Entrar como invitado</button>
  </div>
</div>

<div id="toast"></div>

<!-- APP -->
<div id="app">
  <header>
    Mercado de Artesan√≠as de Somoto
  </header>

  <main>
    <div class="section">
      <h3>Bienvenido</h3>
      <p id="saludo"></p>
    </div>

    <div class="section">
      <h3>Galer√≠a del Mercado</h3>
      <div class="mercado" id="galeria">
        <!-- Imagenes con descripci√≥n -->
        <img src="img1.jpg" alt="Puesto 1" data-desc="Cer√°mica artesanal de Somoto">
        <img src="img2.jpg" alt="Puesto 2" data-desc="Textiles √∫nicos de la regi√≥n">
        <img src="img3.jpg" alt="Puesto 3" data-desc="Artesan√≠a de madera y tallados">
        <img src="img4.jpg" alt="Puesto 4" data-desc="Productos de cuero hechos a mano">
      </div>
    </div>

    <div class="section">
      <h3>Sobre el Mercado</h3>
      <p>El Mercado de Artesan√≠as de Somoto ofrece productos √∫nicos hechos a mano por emprendedores locales. Podr√°s explorar textiles, cer√°mica, madera, cuero y muchas m√°s artesan√≠as de la regi√≥n.</p>
    </div>
  </main>

  <nav>
    <a href="#">üè†<br>Inicio</a>
    <a href="emprendedores.html">üßµ<br>Emprendedores</a>
    <a href="mapa.html">üó∫Ô∏è<br>Mapa</a>
  </nav>
</div>

<!-- MODAL -->
<div id="modal">
  <div id="modalContent">
    <img src="" id="modalImg" alt="">
    <p id="modalDesc"></p>
    <button id="closeModal">Cerrar</button>
  </div>
</div>

<script>
// TOAST
const toast=msg=>{
  const t=document.getElementById("toast");
  t.innerText=msg;
  t.style.display="block";
  setTimeout(()=>t.style.display="none",2500);
};

// AUTO LOGIN
if(localStorage.getItem("sesion")){
  setTimeout(iniciarApp,1000);
}

// LOGIN
btnLogin.onclick=()=>{
  const user=usuario.value||"Visitante";
  localStorage.setItem("sesion",true);
  localStorage.setItem("usuario",user);
  toast("Bienvenido "+user+" üëã");
  setTimeout(iniciarApp,500);
};

// INVITADO
btnGuest.onclick=()=>{
  localStorage.setItem("sesion",true);
  localStorage.setItem("usuario","Invitado");
  toast("Bienvenido Invitado üëã");
  setTimeout(iniciarApp,500);
};

// FUNCION INICIAR APP
function iniciarApp(){
  loginBox.style.display="none";
  app.style.display="block";
  splash.style.display="none";
  saludo.innerText="Hola, "+localStorage.getItem("usuario")+". Disfruta del Mercado de Artesan√≠as de Somoto üá≥üáÆ";
}

// MODAL GALER√çA
const modal=document.getElementById("modal");
const modalImg=document.getElementById("modalImg");
const modalDesc=document.getElementById("modalDesc");
const galeria=document.getElementById("galeria");
galeria.querySelectorAll("img").forEach(img=>{
  img.onclick=()=>{
    modal.style.display="flex";
    modalImg.src=img.src;
    modalDesc.innerText=img.dataset.desc;
  }
});
document.getElementById("closeModal").onclick=()=>modal.style.display="none";
</script>
</body>
</html>
